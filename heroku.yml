setup:
  docker: true

build:
  docker:
    # Build the backend using the Dockerfile inside proj.app
    web: ./proj.app/Dockerfile
    client: ./proj.client/Dockerfile  # Build the frontend using the Dockerfile inside proj.client

run:
  # Heroku only allows one process to run at a time, so we need to start both services separately
  # Start the backend service
  web: docker-compose -f docker-compose-build.yml up --build backend
  
  # You can also run the frontend service in a separate dyno, so it runs on another port.
  client: docker-compose -f docker-compose-build.yml up --build frontend